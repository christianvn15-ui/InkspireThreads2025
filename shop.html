<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Inkspire Threads — Shop</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--accent:#bfff00;--bg:#000}
    body{background:var(--bg); color:#fff}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04);}
    .cart {background: rgba(255,255,255,0.05); padding: 1rem; margin-top: 2rem; border-radius: 0.5rem;}
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <header class="p-4 border-b border-white/5 max-w-5xl mx-auto"><a href="index.html">← Back</a></header>

  <main class="max-w-5xl mx-auto p-6">
    <h1 class="text-3xl font-bold" style="color:var(--accent)">Shop — Featured Tees</h1>
    <p class="text-white/70 mt-2">Shop Products</p>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6">
      <!-- Product card template (copy for more) -->
      <div class="card p-4 rounded-lg">
        <div class="h-48 bg-white/5 rounded flex items-center justify-center"><img src="shopimage1.jpg" height="150" width="150"></div>
        <h3 class="mt-3 font-bold">City Lines Tee</h3>
        <p class="text-white/70">100% cotton — comfortable fit.</p>
        <div class="mt-3 flex items-center justify-between">
          <div class="font-semibold">R220</div>
          <div><button class="px-3 py-2 rounded bg-white/10" onclick="addToCart('City Lines Tee', 220)">Add to cart</button></div>
        </div>
      </div>

      <div class="card p-4 rounded-lg">
        <div class="h-48 bg-white/5 rounded flex items-center justify-center"><img src="shopimage2.jpg" height="150" width="150"></div>
        <h3 class="mt-3 font-bold">Ink Wave Tee</h3>
        <p class="text-white/70">Soft hand feel, vibrant print.</p>
        <div class="mt-3 flex items-center justify-between">
          <div class="font-semibold">R220</div>
          <div><button class="px-3 py-2 rounded bg-white/10" onclick="addToCart('Ink Wave Tee', 220)">Add to cart</button></div>
        </div>
      </div>
    </div>

    <!-- Cart Display -->
    <div class="cart mt-8">
      <h2 class="text-xl font-bold" style="color:var(--accent)">Your Cart</h2>
      <ul id="cart-items" class="mt-2"></ul>
      <p id="cart-total" class="mt-2 font-semibold">Total: R0</p>
      <button onclick="checkout()" class="mt-2 px-4 py-2 rounded bg-white/10">Checkout</button>
    </div>

  </main>

  <footer class="border-t border-white/5 p-6 mt-6 max-w-5xl mx-auto text-white/60">© Inkspire Threads</footer>

  <!-- Add to Cart Script -->
  <script>
    let cart = [];

    function addToCart(name, price) {
      cart.push({name, price});
      updateCart();
    }

    function updateCart() {
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.name} - R${item.price}`;
        cartItems.appendChild(li);
        total += item.price;
      });
      cartTotal.textContent = `Total: R${total}`;
    }

 function checkout() {
  if (cart.length === 0) {
    alert('Your cart is empty!');
    return;
  }

  const total = cart.reduce((sum, item) => sum + item.price, 0);
  const name = prompt("Enter your name for the EFT reference:");

  fetch('/api/payfast', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({ name, amount: total })
  }).then(res => {
    if (res.redirected) {
      window.location.href = res.url;
    } else {
      alert('Payment failed. Try again.');
    }
  });
}
  </script>
</body>
</html> 